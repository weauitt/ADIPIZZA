{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from'react-router-dom';import'../css/Caategorie.css';import{setActiveIndex,setSearch,setValueSearch}from'../../Redux/slices/Categories';import{useDispatch,useSelector}from'react-redux';import debounce from'lodash.debounce';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Categorie(){var dispatch=useDispatch();var ActiveIndex=useSelector(function(state){return state.Categories.ActiveIndex;});useEffect(function(){var lastActiveIndex=localStorage.getItem('lastActiveIndex');if(lastActiveIndex!==null){dispatch(setActiveIndex(parseInt(lastActiveIndex)));}},[dispatch]);var onCLickCategory=function onCLickCategory(index){dispatch(setActiveIndex(index));localStorage.setItem('lastActiveIndex',index.toString());};var valueSearch=useSelector(function(state){return state.Categories.valueSearch;});var debouncedSearch=debounce(function(str){dispatch(setSearch(str));},150);var UpdateSearchValue=React.useCallback(function(str){debouncedSearch(str);},[]);var onChangeInput=function onChangeInput(e){dispatch(setValueSearch(e.target.value));UpdateSearchValue(e.target.value);};var inputRef=React.useRef();var onClearSearch=function onClearSearch(){dispatch(setValueSearch(''));inputRef.current.focus();UpdateSearchValue('');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list\",children:[/*#__PURE__*/_jsx(Link,{className:ActiveIndex===0?'categoriesOne':'',to:'/',onClick:function onClick(){return onCLickCategory(0);},children:/*#__PURE__*/_jsx(\"h1\",{className:\"textOne\",children:\"\\u041F\\u0438\\u0446\\u0446\\u044B\"})}),/*#__PURE__*/_jsx(Link,{className:ActiveIndex===1?'categoriesTwo':'',to:'SnacksCard',onClick:function onClick(){return onCLickCategory(1);},children:/*#__PURE__*/_jsx(\"h1\",{className:\"textTwo\",children:\"\\u0417\\u0430\\u043A\\u0443\\u0441\\u043A\\u0438\"})}),/*#__PURE__*/_jsx(Link,{className:ActiveIndex===2?'categoriesThree':'',to:'DrinksCard',onClick:function onClick(){return onCLickCategory(2);},children:/*#__PURE__*/_jsx(\"h1\",{className:\"textThree\",children:\"\\u041D\\u0430\\u043F\\u0438\\u0442\\u043A\\u0438\"})}),/*#__PURE__*/_jsx(Link,{className:ActiveIndex===3?'categoriesFour':'',to:'DesertCard',onClick:function onClick(){return onCLickCategory(3);},children:/*#__PURE__*/_jsx(\"h1\",{className:\"textFour\",children:\"\\u0414\\u0435\\u0441\\u0441\\u0435\\u0440\\u0442\\u044B\"})}),/*#__PURE__*/_jsx(Link,{className:ActiveIndex===4?'categoriesFive':'',to:'ComboCard',onClick:function onClick(){return onCLickCategory(4);},children:/*#__PURE__*/_jsx(\"h1\",{className:\"textFive\",children:\"\\u041A\\u043E\\u043C\\u0431\\u043E\"})})]}),/*#__PURE__*/_jsx(\"input\",{className:\"search\",placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A...\",value:valueSearch,onChange:function onChange(e){return onChangeInput(e);},ref:inputRef}),valueSearch&&/*#__PURE__*/_jsx(\"p\",{onClick:onClearSearch,className:\"close\"})]});}export default Categorie;","map":{"version":3,"names":["React","useEffect","Link","setActiveIndex","setSearch","setValueSearch","useDispatch","useSelector","debounce","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Categorie","dispatch","ActiveIndex","state","Categories","lastActiveIndex","localStorage","getItem","parseInt","onCLickCategory","index","setItem","toString","valueSearch","debouncedSearch","str","UpdateSearchValue","useCallback","onChangeInput","e","target","value","inputRef","useRef","onClearSearch","current","focus","children","className","to","onClick","placeholder","onChange","ref"],"sources":["C:/Users/adilh/OneDrive/Рабочий стол/ADIPIZZA-main/src/components/Categories/categorie.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../css/Caategorie.css';\nimport { setActiveIndex, setSearch, setValueSearch } from '../../Redux/slices/Categories';\nimport { useDispatch, useSelector } from 'react-redux';\nimport debounce from 'lodash.debounce';\n\nfunction Categorie() {\n  const dispatch = useDispatch();\n  const ActiveIndex = useSelector((state) => state.Categories.ActiveIndex);\n\n  useEffect(() => {\n    const lastActiveIndex = localStorage.getItem('lastActiveIndex');\n    if (lastActiveIndex !== null) {\n      dispatch(setActiveIndex(parseInt(lastActiveIndex)));\n    }\n  }, [dispatch]);\n\n  const onCLickCategory = (index) => {\n    dispatch(setActiveIndex(index));\n    localStorage.setItem('lastActiveIndex', index.toString());\n  }\n\n\n  \n  const valueSearch = useSelector((state) => state.Categories.valueSearch);\n\n  const debouncedSearch = debounce((str) => {\n    dispatch(setSearch(str));\n  }, 150);\n\n  const UpdateSearchValue = React.useCallback((str) => {\n    debouncedSearch(str);\n  }, []);\n\n  const onChangeInput = (e) => {\n    dispatch(setValueSearch(e.target.value));\n    UpdateSearchValue(e.target.value);\n  }\n\n  const inputRef = React.useRef();\n  const onClearSearch = () => {\n    dispatch(setValueSearch(''));\n    inputRef.current.focus();\n    UpdateSearchValue('');\n  }\n\n  return (\n    <>\n      <div className='list'>\n        <Link className={ActiveIndex === 0 ? 'categoriesOne' : ''} to={'/'} onClick={() => onCLickCategory(0)}>\n          <h1 className='textOne'>Пиццы</h1 >\n        </Link>\n\n        <Link className={ActiveIndex === 1 ? 'categoriesTwo' : ''} to={'SnacksCard'} onClick={() => onCLickCategory(1)}>\n          <h1 className='textTwo'>Закуски</h1>\n        </Link>\n\n        <Link className={ActiveIndex === 2 ? 'categoriesThree' : ''} to={'DrinksCard'} onClick={() => onCLickCategory(2)}>\n          <h1 className='textThree'>Напитки</h1 >\n        </Link>\n\n        <Link className={ActiveIndex === 3 ? 'categoriesFour' : ''} to={'DesertCard'} onClick={() => onCLickCategory(3)}>\n          <h1 className='textFour'>Дессерты</h1 >\n        </Link>\n\n        <Link className={ActiveIndex === 4 ? 'categoriesFive' : ''} to={'ComboCard'} onClick={() => onCLickCategory(4)}>\n          <h1 className='textFive'>Комбо</h1>\n        </Link>\n      </div>\n      <input className='search' placeholder='Поиск...' value={valueSearch} onChange={(e) => onChangeInput(e)} ref={inputRef}/>\n      {valueSearch && <p onClick={onClearSearch} className='close'></p>}\n    </>\n  );\n}\n\nexport default Categorie;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}